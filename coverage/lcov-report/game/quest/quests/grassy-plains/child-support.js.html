
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for game/quest/quests/grassy-plains/child-support.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../index.html">All files</a> / <a href="index.html">game/quest/quests/grassy-plains</a> child-support.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">22.22% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>4/18</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/6</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">26.67% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>4/15</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a></td><td class="line-coverage quiet"><span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">const { questHelper } = require("../../quest-helper");
const allItems = require("../../../items/all-items");
const allUnits = require("../../../recruit/all-units");
&nbsp;
module.exports = {
&nbsp;
	// CHILD SUPPORT
	childSupport: {
		name: "Child Support",
		obtaining: {
			area: "Fishing village",
			chance: 1,
		},
		intro: "A Strange Woman is standing by an orphan home asking strangers for help.",
		description: "'Hello there kind sir! Would you please help me out? I want to become a daycare nanny, however I need some soldiers! May I please borrow yours? They look like fine strong men!'\n\n*\\*You look strangely at her to why she would need soldiers to start a daycare center\\**\n\nShe does not seem affected by the weird look and continues: 'Would you please lend me some soldiers so I can start a daycare center? I would really, really like to work with children again!'",
		objective: "Provide the Strange Woman some soldiers\nPeasants: 10\nBronze swords: 10\nEnter the command `!quest %questIndex%` when you are finished.",
		// reward: "Gold: 230\nLarge Healing Potion: 10",
		winDescription: "The Strange Lady thanks you for the soldiers and you decide to take the opportunity to ask her why she would need them to start a daycare center.\n\n*\\*She looks quickly around herself before moving a step closer and lowering her voice\\**\n\n'Well you see...It is because of HIM'\n'Him who?'\n'You know..'\n'I know?'\n'The Bandit King! I once had a magnificent orphan home here, supported by Julius Banethus himself! This was before he got the nickname The Bandit King. He was once a young, handsome and generous king, supporting his people.'\n\n*\\*She stares out the window with an empty look in her face.\\**\n\n'After the unfortunate accident, children of the village started disappearing. One day as many as three children went missing and Julius came down to me in person and was concerned about the orphans. He told me that the whole situation was out of control and that he wanted to bring the children back to his Castle, as there are better protection for them there!'\n\n'I did not want to do it, but he managed to convince me otherwise... He seemed so good-hearted back then, before he started terrorizing his people. That is the last time I saw those poor, poor children.'\n\n*\\*She glares sadly out the window before she out of nowhere puts on a weird smile and waves goodbye\\**",
		questKeySequence: ["Grassy Plains", "childSupport"],
&nbsp;
		// Returns false if the quest description is shown, or true if the quest is being completed
		execute: <span class="fstat-no" title="function not covered" >as</span>ync function(user) {
			const questResponse = <span class="cstat-no" title="statement not covered" >questHelper(user, this.name);</span>
<span class="cstat-no" title="statement not covered" >			if(!questResponse) <span class="cstat-no" title="statement not covered" >return false;</span></span>
&nbsp;
			// Does user have the pre-req?
<span class="cstat-no" title="statement not covered" >			if(!(user.army.units.barracks.peasant &gt;= 10)) <span class="cstat-no" title="statement not covered" >return false;</span></span>
<span class="cstat-no" title="statement not covered" >			if(!(user.army.armory.weapon["bronze sword"] &gt;= 10)) <span class="cstat-no" title="statement not covered" >return false;</span></span>
&nbsp;
			// Remove the peasants and weapons!!!!
<span class="cstat-no" title="statement not covered" >			user.removeItem(allItems["bronze sword"], false, 10);</span>
<span class="cstat-no" title="statement not covered" >			user.addOrRemoveUnits(allUnits["peasant"], -10, true);</span>
&nbsp;
			// Get reward
<span class="cstat-no" title="statement not covered" >			await user.gainManyResources({</span>
				gold: 230,
			});
<span class="cstat-no" title="statement not covered" >			user.buyItem({ name: "Large Healing Potion" }, 5);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			user.removeQuest(this.name);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			user.save();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			return true;</span>
		},
	},
};</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank">istanbul</a>
                at Fri Nov 06 2020 21:08:22 GMT+0100 (Central European Standard Time)
            </div>
        </div>
        <script src="../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../sorter.js"></script>
        <script src="../../../../block-navigation.js"></script>
    </body>
</html>
    